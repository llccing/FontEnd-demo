(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{240:function(e,r,t){"use strict";t.r(r);var o=t(0),a=Object(o.a)({},(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"core-js-3-babel展望未来"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#core-js-3-babel展望未来","aria-hidden":"true"}},[e._v("#")]),e._v(" core-js@3, babel展望未来")]),e._v(" "),t("p",[e._v("经过一年半的开发，数十个版本，许多不眠之夜，"),t("a",{attrs:{href:"https://github.com/zloirock/core-js",target:"_blank",rel:"noopener noreferrer"}},[e._v("core-js@3"),t("OutboundLink")],1),e._v("终于发布了。这是"),t("code",[e._v("core-js")]),e._v("和"),t("a",{attrs:{href:"https://babeljs.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("babel"),t("OutboundLink")],1),e._v(" \b补丁相关的功能的最大的一次变化。")]),e._v(" "),t("p",[e._v("什么是 "),t("code",[e._v("core-js")]),e._v("?")]),e._v(" "),t("ul",[t("li",[e._v("它是JavaScript标准库的补丁，它支持\n"),t("ul",[t("li",[e._v("最新的 "),t("a",{attrs:{href:"https://en.wikipedia.org/wiki/ECMAScript",target:"_blank",rel:"noopener noreferrer"}},[e._v("ECMAScript"),t("OutboundLink")],1),e._v(" 标准")]),e._v(" "),t("li",[e._v("ECMAScript 标准库提案")]),e._v(" "),t("li",[e._v("一些 "),t("a",{attrs:{href:"https://en.wikipedia.org/wiki/WHATWG",target:"_blank",rel:"noopener noreferrer"}},[e._v("WHATGW"),t("OutboundLink")],1),e._v("  / "),t("a",{attrs:{href:"https://en.wikipedia.org/wiki/World_Wide_Web_Consortium",target:"_blank",rel:"noopener noreferrer"}},[e._v("W3C"),t("OutboundLink")],1),e._v(" 标准（跨平台或者ECMAScript相关）")])])]),e._v(" "),t("li",[e._v("它最大限度的模块化：你能仅仅加载你想要使用的功能")]),e._v(" "),t("li",[e._v("它能够不污染全局命名空间")]),e._v(" "),t("li",[e._v("它"),t("a",{attrs:{href:"https://github.com/zloirock/core-js/blob/master/docs/2019-03-19-core-js-3-babel-and-a-look-into-the-future.md#Babel",target:"_blank",rel:"noopener noreferrer"}},[e._v("和babel紧密集成"),t("OutboundLink")],1),e._v("：这能够优化"),t("code",[e._v("core-js")]),e._v("的导入")])]),e._v(" "),t("p",[e._v("它是最普遍、"),t("a",{attrs:{href:"https://www.npmtrends.com/core-js-vs-es5-shim-vs-es6-shim-vs-airbnb-js-shims-vs-polyfill-library-vs-polyfill-service-vs-js-polyfills",target:"_blank",rel:"noopener noreferrer"}},[e._v("最流行"),t("OutboundLink")],1),e._v("的方式来给JavaScript标准库打补丁，但是有很大一部分开发者并不知道他们间接的使用了"),t("code",[e._v("core-js")]),e._v("🙂")]),e._v(" "),t("h2",{attrs:{id:"贡献"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#贡献","aria-hidden":"true"}},[e._v("#")]),e._v(" 贡献")]),e._v(" "),t("p",[t("code",[e._v("core-js")]),e._v("是我自己爱好的项目，没有给我带来任何利润。它花了我很长的时间，真的很昂贵：为了完成"),t("code",[e._v("core-js@3")]),e._v("，我在几个月之前已经离开我的工作。这个项目对许多人和公司起到了促进作用。因为这些，筹集资金去支持"),t("code",[e._v("core-js")]),e._v("的维护是说得通的。")]),e._v(" "),t("p",[e._v("如果你对"),t("code",[e._v("core-js")]),e._v("感兴趣或者在你每天的工作中有使用到，你可以在"),t("a",{attrs:{href:"https://opencollective.com/core-js#sponsor",target:"_blank",rel:"noopener noreferrer"}},[e._v("Open Collective"),t("OutboundLink")],1),e._v("和"),t("a",{attrs:{href:"https://www.patreon.com/zloirock",target:"_blank",rel:"noopener noreferrer"}},[e._v("Patreon"),t("OutboundLink")],1),e._v("成为赞助者。")]),e._v(" "),t("p",[e._v("你可以给"),t("a",{attrs:{href:"http://zloirock.ru/",target:"_blank",rel:"noopener noreferrer"}},[e._v("我"),t("OutboundLink")],1),e._v("提供一个好的工作，和我现在做的相关的。")]),e._v(" "),t("p",[e._v("或者你可以以另一种方式贡献，你可以帮助去改进代码，测试或者文档（现在，"),t("code",[e._v("core-js")]),e._v("的文档还很糟糕！）。")]),e._v(" "),t("h2",{attrs:{id:"core-js-3有哪些变化？"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#core-js-3有哪些变化？","aria-hidden":"true"}},[e._v("#")]),e._v(" "),t("code",[e._v("core-js@3")]),e._v("有哪些变化？")]),e._v(" "),t("h3",{attrs:{id:"javascript标准库中变化的内容"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#javascript标准库中变化的内容","aria-hidden":"true"}},[e._v("#")]),e._v(" JavaScript标准库中变化的内容")]),e._v(" "),t("p",[e._v("由于以下两个原因，这个版本包含丰富的 新的JavaScript补丁：")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("core-js")]),e._v(" 只在 major（主）版本更新时才有 break changes，即使需要和提案的内容对齐。")]),e._v(" "),t("li",[t("code",[e._v("core-js@2")]),e._v(" 在一年半前已经进入功能冻结阶段了；所有新的功能只能够添加到"),t("code",[e._v("core-js@3")]),e._v("这个分支。")])]),e._v(" "),t("h4",{attrs:{id:"稳定的ecmascript功能"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#稳定的ecmascript功能","aria-hidden":"true"}},[e._v("#")]),e._v(" 稳定的ECMAScript功能")]),e._v(" "),t("p",[e._v("稳定的ECMAScript功能在"),t("code",[e._v("core-js")]),e._v("中已经几乎完全支持有很长一段时间了，除此之外，"),t("code",[e._v("core-js@3")]),e._v("引进了一些新功能：")]),e._v(" "),t("ul",[t("li",[e._v("增加支持 ECMAScript 2015引入的两个知名标志 "),t("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol/isConcatSpreadable",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("@@isConcatSpreadable")]),t("OutboundLink")],1),e._v("和"),t("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol/species",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("@@species")]),t("OutboundLink")],1),e._v("，给所有使用他们的方法。")]),e._v(" "),t("li",[e._v("增加来自ECMAScript 2018的 "),t("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flat",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("Array.prototype.flat")]),t("OutboundLink")],1),e._v("和"),t("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flatMap",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("Array.prototype.flatMap")]),t("OutboundLink")],1),e._v("（"),t("code",[e._v("core-js@2")]),e._v("针对"),t("code",[e._v("Array.prototype.flatten")]),e._v("这个老版本的提案提供了补丁）。")]),e._v(" "),t("li",[e._v("增加来自ECMAScript 2019的"),t("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/fromEntries",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("Object.fromEntries")]),t("OutboundLink")],1),e._v("方法")]),e._v(" "),t("li",[e._v("增加来自ECMAScript 2019的 "),t("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol/description",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("Symbol.prototype.description")]),t("OutboundLink")],1),e._v("访问器")])]),e._v(" "),t("p",[e._v("一些在ES2016-ES2019中作为提案被接受且已经使用很长时间的功能，现在被标记为稳定：")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/includes",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("Array.prototype.includes")]),t("OutboundLink")],1),e._v(" 和 "),t("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray/includes",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("TypedArray.prototype.includes")]),t("OutboundLink")],1),e._v(" 方法（ESMAScript 2016）")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/values",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("Object.values")]),t("OutboundLink")],1),e._v(" 和 "),t("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/entries",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("Object.entries")]),t("OutboundLink")],1),e._v(" 方法(ECMAScript 2017)")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptors",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("Object.getOwnPropertyDescriptors")]),t("OutboundLink")],1),e._v(" 方法 (ECMAScript 2017)")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/padStart",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("String.prototype.padStart")]),t("OutboundLink")],1),e._v(" 和 "),t("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/padEnd",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("String.prototype.padEnd")]),t("OutboundLink")],1),e._v(" 方法（ECMAScript 2017）")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/finally",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("Promise.prototype.finally")]),t("OutboundLink")],1),e._v(" 方法（ECMAScript 2018）")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol/asyncIterator",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("Symbol.asyncIterator")]),t("OutboundLink")],1),e._v(" 知名标志（ECMAScript 2018）")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/__defineGetter__",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("Object.prototype.__define(Getter|Setter)__")]),t("OutboundLink")],1),e._v(" 和 "),t("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/__lookupGetter__",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("Object.prototype.__lookup(Getter|Setter)__")]),t("OutboundLink")],1),e._v(" 方法（ECMAScript 2018）")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/trimStart",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("String.prototype.trim(Start|End|Left|Right)")]),t("OutboundLink")],1),e._v(" 方法（ECMAScript 2019）")])]),e._v(" "),t("p",[e._v("修复了针对浏览器的许多问题，例如, "),t("a",{attrs:{href:"https://bugs.webkit.org/show_bug.cgi?id=188794",target:"_blank",rel:"noopener noreferrer"}},[e._v("Safari 12.0 "),t("code",[e._v("Array.prototype.reverse")]),e._v(" bug"),t("OutboundLink")],1),e._v(" 已经被修复了。")]),e._v(" "),t("h4",{attrs:{id:"ecmascript-提案"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ecmascript-提案","aria-hidden":"true"}},[e._v("#")]),e._v(" ECMAScript 提案")]),e._v(" "),t("p",[e._v("除了上文提到的支持内容，"),t("code",[e._v("core-js@3")]),e._v("现在还支持下面的 ECMAScript 提案：")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://github.com/tc39/proposal-global",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("globalThis")]),t("OutboundLink")],1),e._v(" stage 3（现在是 stage 4）的提案 - 之前，已经有了 "),t("code",[e._v("global")]),e._v(" 和 "),t("code",[e._v("System.global")])]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/tc39/proposal-promise-allSettled",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("Promise.allSettled")]),t("OutboundLink")],1),e._v(" stage 2（现在是 stage 4）提案")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/tc39/proposal-set-methods",target:"_blank",rel:"noopener noreferrer"}},[e._v("新 "),t("code",[e._v("Set")]),e._v(" 方法"),t("OutboundLink")],1),e._v(" stage 2 提案：\n"),t("ul",[t("li",[e._v("Set.prototype.difference")]),e._v(" "),t("li",[e._v("Set.prototype.intersection")]),e._v(" "),t("li",[e._v("Set.prototype.isDisjoinFrom")]),e._v(" "),t("li",[e._v("Set.prototype.isSubsetOf")]),e._v(" "),t("li",[e._v("Set.prototype.isSupersetOf")]),e._v(" "),t("li",[e._v("Set.prototype.symmetricDifference")]),e._v(" "),t("li",[e._v("Set.prototype.union")])])]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/tc39/proposal-collection-methods",target:"_blank",rel:"noopener noreferrer"}},[e._v("新 collections 方法"),t("OutboundLink")],1),e._v(" stage 1 提案，包函许多新的有用的方法：\n"),t("ul",[t("li",[e._v("Map.groupBy")]),e._v(" "),t("li",[e._v("Map.keyBy")]),e._v(" "),t("li",[e._v("Map.prototype.deleteAll")]),e._v(" "),t("li",[e._v("Map.prototype.every")]),e._v(" "),t("li",[e._v("Map.prototype.filter")]),e._v(" "),t("li",[e._v("Map.prototype.find")]),e._v(" "),t("li",[e._v("Map.prototype.findKey")]),e._v(" "),t("li",[e._v("Map.prototype.includes")]),e._v(" "),t("li",[e._v("Map.prototype.keyOf")]),e._v(" "),t("li",[e._v("Map.prototype.mapKeys")]),e._v(" "),t("li",[e._v("Map.prototype.mapValues")]),e._v(" "),t("li",[e._v("Map.prototype.merge")]),e._v(" "),t("li",[e._v("Map.prototype.reduce")]),e._v(" "),t("li",[e._v("Map.prototype.some")]),e._v(" "),t("li",[e._v("Map.prototype.update")]),e._v(" "),t("li",[e._v("Set.prototype.addAll")]),e._v(" "),t("li",[e._v("Set.prototype.deleteAll")]),e._v(" "),t("li",[e._v("Set.prototype.every")]),e._v(" "),t("li",[e._v("Set.prototype.filter")]),e._v(" "),t("li",[e._v("Set.prototype.find")]),e._v(" "),t("li",[e._v("Set.prototype.join")]),e._v(" "),t("li",[e._v("Set.prototype.map")]),e._v(" "),t("li",[e._v("Set.prototype.reduce")]),e._v(" "),t("li",[e._v("Set.prototype.some")]),e._v(" "),t("li",[e._v("WeakMap.prototype.deleteAll")]),e._v(" "),t("li",[e._v("WeakSet.prototype.addAll")]),e._v(" "),t("li",[e._v("WeakSet.prototype.deleteAll")])])]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/tc39/proposal-string-replace-all",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("String.prototype.replaceAll")]),t("OutboundLink")],1),e._v(" stage 1（现在是 stage 3） 提案")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/tc39/proposal-string-prototype-codepoints",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("String.prototype.codePoints")]),t("OutboundLink")],1),e._v(" stage 1 提案")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/tc39-transfer/proposal-array-last",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("Array.prototype.last(Item|Index)")]),t("OutboundLink")],1),e._v(" stage 1 提案")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/bmeck/proposal-richer-keys/tree/master/compositeKey",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("compositeKey")]),e._v(" 和 "),t("code",[e._v("compositeSymbol")]),e._v(" 方法"),t("OutboundLink")],1),e._v(" stage 1 提案")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/tc39/proposal-number-fromstring",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("Number.fromString")]),t("OutboundLink")],1),e._v(" stage 1 提案")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/tc39/proposal-seeded-random",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("Math.seededPRNG")]),t("OutboundLink")],1),e._v(" stage 1 提案")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/tc39/proposal-promise-any",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("Promise.any")]),e._v(" (合并的错误)"),t("OutboundLink")],1),e._v(" stage 0（现在是stage 3）提案")])]),e._v(" "),t("p",[e._v("一些提案的变化很大，"),t("code",[e._v("core-js")]),e._v(" 也将相应的更新：")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://github.com/tc39/proposal-string-matchall",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("String.prototype.matchAll")]),t("OutboundLink")],1),e._v(" stage 3 提案")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/tc39/proposal-observable",target:"_blank",rel:"noopener noreferrer"}},[e._v("Observable"),t("OutboundLink")],1),e._v(" stage 1 提案")])]),e._v(" "),t("h4",{attrs:{id:"web-标准"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#web-标准","aria-hidden":"true"}},[e._v("#")]),e._v(" web 标准")]),e._v(" "),t("p",[e._v("许多有用的功能被添加到这个类别中。")]),e._v(" "),t("p",[e._v("最重要的一个是 "),t("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/URL",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("URL")]),t("OutboundLink")],1),e._v(" 和 "),t("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("URLSearchParams")]),t("OutboundLink")],1),e._v("。他是"),t("a",{attrs:{href:"https://github.com/zloirock/core-js/issues/117",target:"_blank",rel:"noopener noreferrer"}},[e._v("最受欢迎的功能请求之一"),t("OutboundLink")],1),e._v("。增加 "),t("code",[e._v("URL")]),e._v(" 和 "),t("code",[e._v("URLSearchParams")]),e._v("，并保证他们最大限度的符合规范，保持源代码足够紧凑来支撑任何环境是"),t("code",[e._v("core-js@3")]),e._v("开发中"),t("a",{attrs:{href:"https://github.com/zloirock/core-js/pull/454/files",target:"_blank",rel:"noopener noreferrer"}},[e._v("最困难的任务之一"),t("OutboundLink")],1),e._v("。")]),e._v(" "),t("p",[t("code",[e._v("core-js@3")]),e._v("包函在JavaScript中创建微任务（microtask）的标准方法："),t("a",{attrs:{href:"https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#microtask-queuing",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("queueMicrotask")]),t("OutboundLink")],1),e._v("。"),t("code",[e._v("core-js@2")]),e._v("提供了 "),t("code",[e._v("asap")]),e._v("函数，提供了同样功能的老的提案。"),t("code",[e._v("queueMicrotask")]),e._v(" 被定义在 HTML 标准中，它已经能够在现代浏览器比如 Chromium 或者 NodeJS 中使用。")]),e._v(" "),t("p",[e._v("另一个受欢迎的功能请求是支持 "),t("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/NodeList/forEach",target:"_blank",rel:"noopener noreferrer"}},[e._v("DOM集合的 "),t("code",[e._v(".forEach")]),e._v(" 方法"),t("OutboundLink")],1),e._v("。由于 "),t("code",[e._v("core-js")]),e._v(" 已经针对DOM集合迭代器做了polyfill，为什么给 "),t("code",[e._v("节点列表")]),e._v(" 和 "),t("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/DOMTokenList",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("DOMTokenList")]),t("OutboundLink")],1),e._v(" 也增加 "),t("code",[e._v(".forEach")]),e._v(" 呢？")]),e._v(" "),t("h4",{attrs:{id:"移除过时的功能："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#移除过时的功能：","aria-hidden":"true"}},[e._v("#")]),e._v(" 移除过时的功能：")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("Reflect.enumrate")]),e._v(" 因为他已经从标准中移除了")]),e._v(" "),t("li",[t("code",[e._v("System.global")]),e._v(" 和 "),t("code",[e._v("global")]),e._v(" 现在他们已经被 "),t("code",[e._v("globalThis")]),e._v(" 代替")]),e._v(" "),t("li",[t("code",[e._v("Array.prototype.flatten")]),e._v(" 现在被 "),t("code",[e._v("Array.prototype.flat")]),e._v(" 代替")]),e._v(" "),t("li",[t("code",[e._v("asap")]),e._v(" 被 "),t("code",[e._v("queueMicrotask")]),e._v(" 代替")]),e._v(" "),t("li",[t("code",[e._v("Error.isError")]),e._v(" 被撤销很长时间了")]),e._v(" "),t("li",[t("code",[e._v("RegExp.escape")]),e._v(" 很久之前被拒绝了")]),e._v(" "),t("li",[t("code",[e._v("Map.prototype.toJSON")]),e._v(" 和 "),t("code",[e._v("Set.prototype.toJSON")]),e._v(" 也是很久前被拒绝了")]),e._v(" "),t("li",[e._v("不必要并且被错误添加的迭代器方法："),t("code",[e._v("CSSRuleList")]),e._v("，"),t("code",[e._v("MediaList")]),e._v("，"),t("code",[e._v("StyleSheetList")]),e._v("。")])]),e._v(" "),t("h4",{attrs:{id:"不再有非标准、非提案的功能"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#不再有非标准、非提案的功能","aria-hidden":"true"}},[e._v("#")]),e._v(" 不再有非标准、非提案的功能")]),e._v(" "),t("p",[e._v("许多年前，我开始写一个库，他是我的JavaScript程序的核心：这个库包函polyfills和一些我需要的工具函数。一段时间后，这个库以 "),t("code",[e._v("core-js")]),e._v(" 命名发布。我认为现在大多数 "),t("code",[e._v("core-js")]),e._v(" 用户不需要非标准的 "),t("code",[e._v("core-js")]),e._v(" 功能，他们大多已经在早期版本移除了，现在是时候将剩余部分从 "),t("code",[e._v("core-js")]),e._v(" 中移除。从这个版本开始，"),t("code",[e._v("core-js")]),e._v(" 可以被称为 polyfill了。")]),e._v(" "),t("h3",{attrs:{id:"包、入口和模块名字"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#包、入口和模块名字","aria-hidden":"true"}},[e._v("#")]),e._v(" 包、入口和模块名字")]),e._v(" "),t("p",[e._v("一个issue里提了 "),t("code",[e._v("core-js")]),e._v(" 包的很大（~2MB），有很多重复文件。因为这个原因，"),t("code",[e._v("core-js")]),e._v(" 分成了3个包：")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://www.npmjs.com/package/core-js",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("core-js")]),t("OutboundLink")],1),e._v(" 定义全局的polyfills。（~500KB，"),t("a",{attrs:{href:"https://bundlephobia.com/result?p=core-js@3.0.0-beta.20",target:"_blank",rel:"noopener noreferrer"}},[e._v("压缩并且gzipped处理后 40KB"),t("OutboundLink")],1),e._v("）")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://www.npmjs.com/package/core-js-pure",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("core-js-pure")]),t("OutboundLink")],1),e._v("，提供了不污染全局变量的polyfills。它和 "),t("code",[e._v("core-js@2")]),e._v("中的 "),t("code",[e._v("core-js/library")]),e._v(" 相当。（~440KB）")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://www.npmjs.com/package/core-js-bundle",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("core-js-bundle")]),t("OutboundLink")],1),e._v("：定义了全局填充的打包版本")])]),e._v(" "),t("p",[t("code",[e._v("core-js")]),e._v(" 的早期版本中，稳定的ECMAScript功能和 ECMAScript提案的polyfill模块化需要分别加 "),t("code",[e._v("es6.")]),e._v(" 和 "),t("code",[e._v("es7.")]),e._v(" 前缀。这是在2014年做的决定，那时将 ES6 之后的所有功能都视为 ES7。在 "),t("code",[e._v("core-js@3")]),e._v(" 中所有稳定的 ECMAScript 功能都增加 "),t("code",[e._v("es.")]),e._v(" 前缀，ECMAScript 提案增加 "),t("code",[e._v("esnext.")]),e._v(" 前缀。")]),e._v(" "),t("p",[e._v("几乎所有的 CommonJS 入口都改变了。"),t("code",[e._v("core-js@3")]),e._v(" 相比于 "),t("code",[e._v("core-js@2")]),e._v(" 有更多的入口：这带来的最大限度的灵活性，使你能够仅仅引入你的应用需要的依赖。")]),e._v(" "),t("p",[e._v("这里是一些例子关于如何使用新的入口：")]),e._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// 使用 `core-js`全部功能打补丁：")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("import")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"core-js"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// 仅仅使用稳定的`core-js`功能 - ES 和 web标准：")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("import")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"core-js/stable"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// 仅仅使用稳定的 ES 功能")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("import")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"core-js/es"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// 如果你想用`Set`的补丁")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// 所有 `Set`- ES 提案中，相关的功能：")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("import")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"core-js/features/set"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// 稳定的 `Set` ES 功能和来自web标准的功能")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// （DOM 集合迭代器）")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("import")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"core-js/stable/set"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// 只有 `Set`所需的稳定的 ES 功能")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("import")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"core-js/es/set"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// 与上面一致，但不会污染全局命名空间")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("import")]),e._v(" Set "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("from")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"core-js-pure/features/set"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("import")]),e._v(" Set "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("from")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"core-js-pure/stable/set"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("import")]),e._v(" Set "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("from")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"core-js-pure/es/set"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// 仅仅为需要的方法打补丁")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("import")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"core-js/feature/set/intersection"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("import")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"core-js/stable/queque-microtask"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("import")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"core-js/es/array/from"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// 为 reflect metadata 提案打补丁")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("import")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"core-js/proposals/reflect-metadata"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// 为所有 stage 2+ 的提案打补丁")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("import")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"core-js/stage/2"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),t("h3",{attrs:{id:"其他重要的变化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#其他重要的变化","aria-hidden":"true"}},[e._v("#")]),e._v(" 其他重要的变化")]),e._v(" "),t("p",[t("code",[e._v("core-js")]),e._v(" polyfill 能够 "),t("a",{attrs:{href:"https://github.com/zloirock/core-js/blob/master/README.md#configurable-level-of-aggressiveness",target:"_blank",rel:"noopener noreferrer"}},[e._v("配置入侵等级"),t("OutboundLink")],1),e._v("。如果你认为有些情境 "),t("code",[e._v("core-js")]),e._v(" 功能检测侵入性太强，原生实现对你来说已经足够，或者一个错误的实现没有被 "),t("code",[e._v("core-js")]),e._v(" 检测到，你可以修改 "),t("code",[e._v("core-js")]),e._v(" 的默认行为。")]),e._v(" "),t("p",[e._v("如果无法安装规范的每个细节实现某个功能，"),t("code",[e._v("core-js")]),e._v(" 增加了一个 "),t("code",[e._v(".sham")]),e._v(" 属性，例如，IE11中 "),t("code",[e._v("Symbol.sham")]),e._v(" 是 "),t("code",[e._v("true")]),e._v("。")])])}),[],!1,null,null,null);r.default=a.exports}}]);